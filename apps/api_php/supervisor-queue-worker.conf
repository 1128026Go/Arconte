[program:arconte-worker]
process_name=%(program_name)s_%(process_num)02d
command=php /path/to/arconte/apps/api_php/artisan queue:work --sleep=3 --tries=3 --max-time=3600
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true
user=www-data
numprocs=2
redirect_stderr=true
stdout_logfile=/var/log/arconte-worker.log
stopwaitsecs=3600

; INSTRUCCIONES PARA CONFIGURAR EN PRODUCCIÓN (LINUX):
;
; 1. Copiar este archivo a /etc/supervisor/conf.d/arconte-worker.conf
;
; 2. Actualizar la ruta completa del proyecto:
;    command=php /ruta/real/a/arconte/apps/api_php/artisan queue:work --sleep=3 --tries=3 --max-time=3600
;
; 3. Ajustar el usuario según tu servidor (www-data, nginx, ubuntu, etc):
;    user=www-data
;
; 4. Crear directorio de logs si no existe:
;    sudo mkdir -p /var/log
;    sudo touch /var/log/arconte-worker.log
;    sudo chown www-data:www-data /var/log/arconte-worker.log
;
; 5. Recargar configuración de Supervisor:
;    sudo supervisorctl reread
;    sudo supervisorctl update
;    sudo supervisorctl start arconte-worker:*
;
; 6. Verificar estado:
;    sudo supervisorctl status arconte-worker:*
;
; 7. Ver logs en tiempo real:
;    tail -f /var/log/arconte-worker.log
;
; COMANDOS ÚTILES:
; - Detener workers:     sudo supervisorctl stop arconte-worker:*
; - Iniciar workers:     sudo supervisorctl start arconte-worker:*
; - Reiniciar workers:   sudo supervisorctl restart arconte-worker:*
; - Ver logs:            sudo supervisorctl tail -f arconte-worker:*
