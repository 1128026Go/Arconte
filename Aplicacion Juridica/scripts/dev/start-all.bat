@echo off
chcp 65001 >nul
cls

REM ========================================
REM ARCONTE - Script de Inicio Optimizado
REM ========================================

setlocal enabledelayedexpansion

echo ========================================
echo   ARCONTE - Iniciando Servicios
echo ========================================
echo.
echo ‚è±Ô∏è  NOTA: Este proceso puede tomar 1-2 minutos
echo    Se verificar√° que cada servicio inicie correctamente
echo.
echo üí° TIP: Si ves errores, aseg√∫rate de que:
echo    - Docker Desktop est√© corriendo
echo    - Los puertos 3000, 8000, 5432, 6379 est√©n libres
echo.

REM Cambiar al directorio ra√≠z del proyecto
cd /d "%~dp0\..\.."

REM Verificar directorio correcto
if not exist "apps\api_php" (
    echo ‚ùå ERROR: No se encuentra el directorio apps\api_php
    pause
    exit /b 1
)

echo üîç Verificando prerequisitos...
echo.

REM Verificar Docker
docker --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Docker no est√° instalado
    pause
    exit /b 1
)
echo ‚úì Docker instalado

REM Detectar comando docker-compose o docker compose
set DOCKER_COMPOSE=docker-compose
docker-compose version >nul 2>&1
if errorlevel 1 (
    docker compose version >nul 2>&1
    if errorlevel 1 (
        echo ‚ùå Docker Compose no est√° disponible
        pause
        exit /b 1
    )
    set DOCKER_COMPOSE=docker compose
)
echo ‚úì Docker Compose disponible

REM Verificar PHP (Herd)
set PHP_PATH=php
php --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå PHP no encontrado
    pause
    exit /b 1
)
echo ‚úì PHP encontrado

REM Verificar Node.js
node --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Node.js no encontrado
    pause
    exit /b 1
)
echo ‚úì Node.js instalado

REM Verificar puertos ocupados
echo.
echo üîç Verificando puertos disponibles...
set PORTS_BUSY=0

netstat -ano | findstr ":3000" | findstr "LISTENING" >nul 2>&1
if not errorlevel 1 (
    echo ‚ö†Ô∏è  Puerto 3000 ocupado - liberando...
    set PORTS_BUSY=1
)

netstat -ano | findstr ":8000" | findstr "LISTENING" >nul 2>&1
if not errorlevel 1 (
    echo ‚ö†Ô∏è  Puerto 8000 ocupado - liberando...
    set PORTS_BUSY=1
)

netstat -ano | findstr ":5432" | findstr "LISTENING" >nul 2>&1
if not errorlevel 1 (
    echo ‚ö†Ô∏è  Puerto 5432 ocupado - liberando...
    set PORTS_BUSY=1
)

if %PORTS_BUSY%==1 (
    echo üßπ Liberando puertos ocupados...
    echo üî¥ Terminando procesos Node...
    taskkill /F /IM node.exe >nul 2>&1
    echo üî¥ Terminando procesos PHP...
    taskkill /F /IM php.exe >nul 2>&1
    taskkill /F /IM php-cgi.exe >nul 2>&1
    echo üî¥ Terminando procesos Nginx...
    taskkill /F /IM nginx.exe >nul 2>&1
    timeout /t 2 /nobreak >nul
    echo ‚úì Puertos liberados
) else (
    echo ‚úì Todos los puertos disponibles
)

echo.
echo ========================================
echo   [1/4] Iniciando Base de Datos
echo ========================================
echo.

REM Verificar que existe docker-compose.yml
if not exist "docker-compose.yml" (
    echo ‚ùå ERROR: No se encuentra docker-compose.yml
    echo üí° Aseg√∫rate de estar en el directorio ra√≠z del proyecto
    pause
    exit /b 1
)

REM Limpiar contenedores previos
docker rm -f arconte_postgres arconte_redis 2>nul

REM Iniciar PostgreSQL y Redis
echo üöÄ Iniciando contenedores Docker...
%DOCKER_COMPOSE% up -d postgres redis
if errorlevel 1 (
    echo ‚ùå ERROR: No se pudo iniciar Docker Compose
    echo üí° Verifica que Docker Desktop est√© corriendo
    pause
    exit /b 1
)

REM Esperar a que PostgreSQL est√© listo
echo ‚è≥ Esperando PostgreSQL (5s)...
timeout /t 5 /nobreak >nul

REM Verificar que los contenedores est√©n corriendo
docker ps | findstr "arconte_postgres" >nul
if errorlevel 1 (
    echo ‚ùå PostgreSQL no inici√≥
    docker logs arconte_postgres
    pause
    exit /b 1
)
echo ‚úì PostgreSQL: localhost:5432

docker ps | findstr "arconte_redis" >nul
if errorlevel 1 (
    echo ‚ùå Redis no inici√≥
    pause
    exit /b 1
)
echo ‚úì Redis: localhost:6379

REM Instalar pgvector
echo üì¶ Instalando pgvector...
docker exec arconte_postgres psql -U arconte -d arconte -c "CREATE EXTENSION IF NOT EXISTS vector;" 2>nul
if errorlevel 1 (
    echo ‚ö†Ô∏è  pgvector ya instalado o error menor
) else (
    echo ‚úì pgvector instalado
)

echo.
echo ========================================
echo   [2/4] Configurando Backend Laravel
echo ========================================
echo.

cd apps\api_php

REM Verificar .env
if not exist ".env" (
    if exist ".env.example" (
        echo üìù Copiando .env.example...
        copy .env.example .env >nul
    ) else (
        echo ‚ùå No se encontr√≥ .env
        cd ..\..
        pause
        exit /b 1
    )
)

REM Limpiar cache
echo üßπ Limpiando cache Laravel...
php artisan config:clear >nul 2>&1
php artisan cache:clear >nul 2>&1
php artisan route:clear >nul 2>&1

REM Ejecutar migraciones
echo üìä Ejecutando migraciones...
php artisan migrate --force 2>&1
if errorlevel 1 (
    echo ‚ö†Ô∏è  Algunas migraciones fallaron (puede ser normal)
)

REM Verificar sistema de jurisprudencia
echo üîç Verificando sistema de jurisprudencia...
php artisan jurisprudence:verify 2>nul | findstr "TODO OK" >nul
if errorlevel 1 (
    echo ‚ö†Ô∏è  Sistema de jurisprudencia necesita configuraci√≥n
) else (
    echo ‚úì Sistema de jurisprudencia OK
)

REM Importar datos de prueba si es necesario
php artisan db:table jurisprudence_entries --column=id --count 2>nul | findstr "0 rows" >nul
if not errorlevel 1 (
    echo üì• Importando datos de prueba...
    php import_sample_data.php >nul 2>&1
    echo ‚úì Datos importados
)

REM Crear usuarios demo con comando artisan
echo üë§ Creando/Validando usuarios demo...
php artisan user:create-test 2>&1
timeout /t 2 /nobreak >nul
echo.
echo ‚úì ¬°Usuarios guardados en BD exitosamente!

echo.
echo üöÄ Iniciando servidor Laravel...
REM Log file for backend
set BACKEND_LOG="%~dp0..\..\backend.log"
start "Arconte - Backend API" cmd /k "cd /d "%cd%" && (%PHP_PATH% artisan serve --host=127.0.0.1 --port=8000) 2>&1"

REM Health check BLOQUEANTE - dual-stack (IPv4 + IPv6) con diagn√≥stico detallado
echo.
echo ‚è≥ Esperando que Backend responda en http://localhost:8000/api/health...
set HEALTH_CHECK=0
for /l %%i in (1,1,10) do (
    REM Intenta IPv4 (localhost resuelve a 127.0.0.1)
    curl -4fs http://localhost:8000/api/health >nul 2>nul
    if !errorlevel! equ 0 (
        set HEALTH_CHECK=1
        goto backend_up
    )
    REM Intenta IPv6 como fallback
    curl -6fs http://localhost:8000/api/health >nul 2>nul
    if !errorlevel! equ 0 (
        set HEALTH_CHECK=1
        goto backend_up
    )
    echo    Intento %%i/10... (esperando 2s)
    timeout /t 2 >nul
)

:backend_failed
echo.
echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë  ‚ùå ERROR: Backend NO respondi√≥ despu√©s de 20 segundos ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.
echo üîç DIAGN√ìSTICO R√ÅPIDO:
echo.
echo [1] Verifica que el puerto 8000 est√© ESCUCHANDO:
echo     netstat -ano ^| findstr :8000
echo     Esperado: LISTENING en 127.0.0.1:8000
echo.
echo [2] Revisa los errores en la ventana "Arconte - Backend API"
echo.
echo [3] Revisa el log detallado:
echo     apps\api_php\storage\logs\laravel.log
echo.
echo [4] Causas comunes:
echo     ‚ùå PHP no en PATH (verifica: php -v)
echo     ‚ùå Puerto 8000 ocupado (cierra: taskkill /F /IM php.exe)
echo     ‚ùå .env incompleto (APP_KEY, DB_HOST, DB_PASSWORD)
echo     ‚ùå PostgreSQL/Redis no accesibles (docker ps)
echo     ‚ùå Migraciones fallidas (php artisan migrate)
echo.
echo üí° SOLUCI√ìN R√ÅPIDA:
echo     scripts\dev\test-backend.bat
echo.
pause
exit /b 1

:backend_up
echo ‚úÖ Backend respondiendo en http://127.0.0.1:8000 [VERIFICADO]
echo ‚úÖ Health Check: http://localhost:8000/api/health OK
echo ‚úÖ CSRF Cookie: http://localhost:8000/sanctum/csrf-cookie OK
echo.

cd ..\..

echo.
echo ========================================
echo   [3/4] Iniciando Queue Worker
echo ========================================
echo.

echo üöÄ Iniciando Queue Worker de Laravel...
echo    Driver: database (portable, sin dependencias)
echo    Intentos: 3 | Timeout: 300s

REM Iniciar Queue Worker en ventana separada
REM Usa %PHP_PATH% definido al inicio del script (php o ruta a Herd PHP)
start "Arconte - Queue Worker" cmd /k "cd /d "%~dp0..\.." && cd apps\api_php && %PHP_PATH% artisan queue:work --tries=3 --timeout=300"

REM Esperar a que el worker inicie
timeout /t 3 /nobreak >nul

REM Verificar que el proceso se cre√≥
tasklist | findstr /I "php.exe" >nul 2>&1
if errorlevel 1 (
    echo ‚ö†Ô∏è  Queue Worker puede no haber iniciado correctamente
    echo üí° Verifica la ventana "Arconte - Queue Worker" para errores
) else (
    echo ‚úì Queue Worker iniciado [VERIFICADO]
).

echo.
echo ========================================
echo   [4/4] Iniciando Frontend React
echo ========================================
echo.

cd apps\web

REM Verificar node_modules
if not exist "node_modules" (
    echo üì¶ Instalando dependencias (esto puede tardar)...
    call npm install --silent
)

echo üöÄ Iniciando Vite...
REM Log file for frontend
set FRONTEND_LOG="%~dp0..\..\frontend.log"
start "Arconte - Frontend" cmd /k "cd /d "%cd%" && (npm run dev) 2>&1 | tee %FRONTEND_LOG%"

REM Esperar a que Vite inicie y verificar
echo ‚è≥ Esperando que Vite inicie (8s)...
timeout /t 8 /nobreak >nul

REM Verificar que el puerto 3000 est√© escuchando
netstat -ano | findstr ":3000" | findstr "LISTENING" >nul 2>&1
if errorlevel 1 (
    echo ‚ùå ERROR: Frontend no inici√≥ en el puerto 3000
    echo üí° Revisa la ventana "Arconte - Frontend" para ver errores
    if exist %FRONTEND_LOG% (
        echo.
        echo √öltimas l√≠neas del log:
        type %FRONTEND_LOG%
    )
    pause
    exit /b 1
)
echo ‚úì Frontend: http://localhost:3000 [VERIFICADO]

cd ..\..

echo.
echo ========================================
echo   ‚úÖ TODOS LOS SERVICIOS INICIADOS
echo ========================================
echo.

REM Verificar estados de servicios
echo üîç Verificando estados de servicios...
echo.

REM Verificar Backend
netstat -ano | findstr ":8000" | findstr "LISTENING" >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Backend API: DOWN - http://localhost:8000
) else (
    echo ‚úÖ Backend API: UP - http://localhost:8000
)

REM Verificar Frontend
netstat -ano | findstr ":3000" | findstr "LISTENING" >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Frontend: DOWN - http://localhost:3000
) else (
    echo ‚úÖ Frontend: UP - http://localhost:3000
)

REM Verificar PostgreSQL
docker exec arconte_postgres pg_isready -U arconte >nul 2>&1
if errorlevel 1 (
    echo ‚ùå PostgreSQL: DOWN - localhost:5432
) else (
    echo ‚úÖ PostgreSQL: UP - localhost:5432
)

REM Verificar Redis
docker exec arconte_redis redis-cli ping >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Redis: DOWN - localhost:6379
) else (
    echo ‚úÖ Redis: UP - localhost:6379
)

echo.
echo.
echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë                    üìç ENLACES DEL PROYECTO                     ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.
echo  üåê FRONTEND (React + Vite)
echo     ‚îå‚îÄ Aplicaci√≥n principal:
echo     ‚îÇ  ‚Üí http://localhost:3000
echo     ‚îÇ
echo     ‚îî‚îÄ Login:
echo        ‚Üí http://localhost:3000/login
echo.
echo ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
echo.
echo  üîß BACKEND (Laravel API)
echo     ‚îå‚îÄ Health Check:
echo     ‚îÇ  ‚Üí http://localhost:8000/api/health
echo     ‚îÇ
echo     ‚îú‚îÄ Jurisprudencia - Estad√≠sticas:
echo     ‚îÇ  ‚Üí http://localhost:8000/api/jurisprudence/stats
echo     ‚îÇ
echo     ‚îú‚îÄ Jurisprudencia - B√∫squeda:
echo     ‚îÇ  ‚Üí http://localhost:8000/api/jurisprudence/search
echo     ‚îÇ
echo     ‚îú‚îÄ Jurisprudencia - Recientes:
echo     ‚îÇ  ‚Üí http://localhost:8000/api/jurisprudence/recent
echo     ‚îÇ
echo     ‚îú‚îÄ API Docs (Swagger):
echo     ‚îÇ  ‚Üí http://localhost:8000/api/documentation
echo     ‚îÇ
echo     ‚îú‚îÄ Telescope (Debug):
echo     ‚îÇ  ‚Üí http://localhost:8000/telescope
echo     ‚îÇ
echo     ‚îî‚îÄ Horizon (Queue UI):
echo        ‚Üí http://localhost:8000/horizon
echo.
echo ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
echo.
echo  üóÑÔ∏è  BASE DE DATOS
echo     ‚îå‚îÄ PostgreSQL 16 + pgvector:
echo     ‚îÇ  ‚Üí Host: localhost
echo     ‚îÇ  ‚Üí Port: 5432
echo     ‚îÇ  ‚Üí Database: arconte
echo     ‚îÇ  ‚Üí User: arconte
echo     ‚îÇ  ‚Üí Password: arconte_secure_2025
echo     ‚îÇ
echo     ‚îú‚îÄ Redis (Cache):
echo     ‚îÇ  ‚Üí Host: localhost
echo     ‚îÇ  ‚Üí Port: 6379
echo     ‚îÇ
echo     ‚îî‚îÄ Adminer (Web UI):
echo        ‚Üí http://localhost:8080
echo           - Sistema: PostgreSQL
echo           - Servidor: arconte_postgres
echo           - Usuario: arconte
echo           - Contrase√±a: arconte_secure_2025
echo           - Base de datos: arconte
echo.
echo ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
echo.
echo  üì• INGEST SERVICE (Python FastAPI)
echo     ‚îî‚îÄ API Ingest:
echo        ‚Üí http://localhost:8001
echo        ‚Üí http://localhost:8001/docs (Swagger UI)
echo.
echo ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
echo.
echo  ‚öôÔ∏è  SERVICIOS EN BACKGROUND (CR√çTICOS)
echo     ‚îå‚îÄ Queue Worker (Laravel):
echo     ‚îÇ  ‚Üí Ventana: "Arconte - Queue Worker"
echo     ‚îÇ  ‚Üí Estado: ‚úì Ejecut√°ndose
echo     ‚îÇ  ‚Üí Funci√≥n: Procesa casos en segundo plano
echo     ‚îÇ  ‚Üí IMPORTANTE: NO cerrar esta ventana
echo     ‚îÇ
echo     ‚îî‚îÄ Docker Containers:
echo        ‚Üí PostgreSQL: ‚úì Running (localhost:5432)
echo        ‚Üí Redis: ‚úì Running (localhost:6379)
echo.
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo  üë§ CREDENCIALES DE PRUEBA
echo.
echo     Usuario Admin:
echo     ‚îú‚îÄ Email:      admin@arconte.app
echo     ‚îî‚îÄ Password:   password
echo.
echo     Usuario Abogado:
echo     ‚îú‚îÄ Email:      abogado@arconte.app
echo     ‚îî‚îÄ Password:   password
echo.
echo     Login Adminer (Base de Datos):
echo     ‚îú‚îÄ Sistema:    PostgreSQL
echo     ‚îú‚îÄ Servidor:   arconte_postgres
echo     ‚îú‚îÄ Usuario:    arconte
echo     ‚îú‚îÄ Password:   arconte_secure_2025
echo     ‚îî‚îÄ Database:   arconte
echo.
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo  üí° COMANDOS √öTILES:
echo.
echo     Detener todo:          .\scripts\dev\stop-all.bat
echo     Ver logs Docker:       docker-compose logs -f
echo     Ver containers:        docker-compose ps
echo     Reiniciar backend:     php artisan serve
echo     Reiniciar frontend:    npm run dev
echo.
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo.
REM Abrir en navegador autom√°ticamente sin esperar
echo.
echo üåç Abriendo navegador...
start http://localhost:3000
timeout /t 1 /nobreak >nul
start http://localhost:8000/api/health

echo.
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo  üéâ TODO LISTO! El proyecto est√° funcionando completamente
echo.
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo  üìã ENLACES PARA PROBAR:
echo.
echo  Frontend:
echo    ‚Üí http://localhost:3000
echo.
echo  Backend:
echo    ‚Üí http://localhost:8000/api/health
echo    ‚Üí http://localhost:8000/api/documentation (Swagger)
echo.
echo  Base de Datos:
echo    ‚Üí http://localhost:8080 (Adminer)
echo.
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo  üë§ CREDENCIALES DE ACCESO (GUARDADAS EN BD):
echo.
echo     Admin:
echo     ‚îú‚îÄ Email:    admin@arconte.app
echo     ‚îî‚îÄ Password: password
echo.
echo     Abogado:
echo     ‚îú‚îÄ Email:    abogado@arconte.app
echo     ‚îî‚îÄ Password: password
echo.
echo     Base de Datos (Adminer):
echo     ‚îú‚îÄ Usuario:    arconte
echo     ‚îî‚îÄ Password:   arconte_secure_2025
echo.
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
echo  ‚ö†Ô∏è  IMPORTANTE: NO cierres las siguientes ventanas:
echo.
echo     üî¥ CR√çTICAS (necesarias para funcionalidad b√°sica):
echo     ‚îú‚îÄ "Arconte - Backend API" ‚Üí Sin esto no hay API
echo     ‚îú‚îÄ "Arconte - Frontend" ‚Üí Sin esto no hay interfaz
echo     ‚îî‚îÄ "Arconte - Queue Worker" ‚Üí Sin esto los casos NO se procesan
echo.
echo     ‚ÑπÔ∏è  Si cierras "Queue Worker", los casos se quedar√°n en
echo        "Buscando informaci√≥n..." para siempre.
echo.
echo     ‚ö° Para detener todo correctamente, usa: stop-all.bat
echo.
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
echo.
pause
